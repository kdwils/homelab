apiVersion: gateway.envoyproxy.io/v1alpha1
kind: EnvoyProxy
metadata:
  name: tailscale-proxy
spec:
  admin:
    access_log_path: /dev/null
    address:
      socket_address:
        address: 0.0.0.0
        port_value: 19001
  provider:
    type: "Kubernetes"
    kubernetes:
      envoyService:
        annotations:
          tailscale.com/expose: "true"
          tailscale.com/hostname: "homelab-gateway"
        loadBalancerClass: "tailscale"
        name: homelab-gateway
