kind: ConfigMap
apiVersion: v1
data:
  dex.config: |
    connectors:
    - type: oidc
      id: pocketid
      name: PocketID
      config:
        issuer: https://pocketid.kyledev.co
        clientID: $oidc.pocketid.clientID
        clientSecret: $oidc.pocketid.clientSecret
        redirectURI: https://argocd.kyledev.co/api/dex/callback
        scopes:
          - openid
          - profile
          - email
          - groups
  accounts.image-updater: apiKey
  accounts.backstage: login, apiKey
  accounts.readonly-user: login, apiKey
  statusbadge.enabled: "true"
  statusbadge.url: https://argocd.kyledev.co/
  application.namespaces: "*"
  resource.customizations: |
    apiextensions.k8s.io/CustomResourceDefinition:
      ignoreDifferences: |
        jsonPointers:
        - /status
    admissionregistration.k8s.io/ValidatingWebhookConfiguration:
      ignoreDifferences: |
        jsonPointers:
        - /webhooks/0/clientConfig/caBundle
        - /webhooks/1/clientConfig/caBundle
  resource.customizations.ignoreDifferences.all: |
    managedFieldsManagers:
      - kube-controller-manager
    jsonPointers:
      - /spec/template/spec/containers/0/resources/requests
      - /spec/template/spec/containers/0/resources/limits
metadata:
  labels:
    app.kubernetes.io/name: argocd-cm
    app.kubernetes.io/part-of: argocd
  name: argocd-cm
