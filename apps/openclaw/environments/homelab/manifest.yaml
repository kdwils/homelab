---
# Source: homelab/charts/openclaw/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: openclaw
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
automountServiceAccountToken: false
---
# Source: homelab/charts/openclaw/templates/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: openclaw-config-pvc
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
---
# Source: homelab/charts/openclaw/templates/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: openclaw-workspace-pvc
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
---
# Source: homelab/charts/openclaw/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: openclaw
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: ClusterIP
  ports:
    - port: 18789
      targetPort: 18789
      protocol: TCP
      name: gateway
    - port: 18790
      targetPort: 18790
      protocol: TCP
      name: bridge
  selector:
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
---
# Source: homelab/charts/openclaw/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: openclaw
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app.kubernetes.io/name: openclaw
      app.kubernetes.io/instance: openclaw
  template:
    metadata:
      labels:
        helm.sh/chart: openclaw-0.1.11
        app.kubernetes.io/name: openclaw
        app.kubernetes.io/instance: openclaw
        app.kubernetes.io/version: "1.16.0"
        app.kubernetes.io/managed-by: Helm
    spec:
      serviceAccountName: openclaw
      securityContext:
        fsGroup: 1000
        runAsGroup: 1000
        runAsNonRoot: true
        runAsUser: 1000
      containers:
        - name: openclaw
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
          image: "ghcr.io/openclaw/openclaw:2026.1.30"
          imagePullPolicy: IfNotPresent
          args:
            - node
            - dist/index.js
            - gateway
            - --bind
            - auto
            - --port
            - "18789"
            - --allow-unconfigured
          ports:
            - name: gateway
              containerPort: 18789
              protocol: TCP
            - name: bridge
              containerPort: 18790
              protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
          volumeMounts:
            - mountPath: /home/node/.openclaw
              name: pvc-openclaw-config-pvc
              readOnly: false
            - mountPath: /home/node/.openclaw/workspace
              name: pvc-openclaw-workspace-pvc
              readOnly: false
          env:
            - name: HOME
              value: "/home/node"
            - name: TERM
              value: "xterm-256color"
          envFrom:
            - secretRef:
                name: openclaw-secrets
      volumes:
        - name: pvc-openclaw-config-pvc
          persistentVolumeClaim:
            claimName: openclaw-config-pvc
        - name: pvc-openclaw-workspace-pvc
          persistentVolumeClaim:
            claimName: openclaw-workspace-pvc
        - emptyDir: {}
          name: tmp
---
# Source: homelab/charts/openclaw/templates/httproute.yaml
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: openclaw
  labels:
    helm.sh/chart: openclaw-0.1.11
    app.kubernetes.io/name: openclaw
    app.kubernetes.io/instance: openclaw
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
spec:
  parentRefs:
    - name: homelab
      namespace: envoy-gateway-system
  hostnames:
    - "openclaw.int.kyledev.co"
    - "openclaw.ts.kyledev.co"
  rules:
    - backendRefs:
      - name: openclaw
        port: 18789
---
# Source: homelab/charts/openclaw/templates/sealedsecret.yaml
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: openclaw-secrets
  namespace: openclaw
spec:
  encryptedData:
    ANTHROPIC_API_KEY: AgCsba+3Jm14qfCbCQH5St5pW3wwJXT/QpBcGwkkAsVvqc/JwXUcqGbsZDu4jbfrWn56zkdx5OS3VC8+zSS4rNb7v8U/ftEHTDfGxVi358ZFcDbITVB3LfiZL4W5t9Wib7fsJaeq9KJJk8DIrLKOXK+yOfBwH9npeMFrjLCrgXzJtc+s5zDqFmeEumgoBhirDWmJTSLeVvbSLKUvKnV4N7F/cptpMuwO61pGllz2RCafqa+4DUkPlV/OhaM4M2wNi3tbroTRD2fTcRyfoLrVk7o/byNorreqXoq2KwhRUlV77djCdGS9sEiuXezvMie4rcaHttrO4ZwvgF0Q5NjaWq7sI/auUJxoAHac+Nk6/LqYJLBNyZVxbqMKeuABev3OX+5ripx31Kn2Gyk3jkIQao7T/NijU2SVMmcQmLP/tivoTy0ovFCGj9h/htti8my+3lwQYNBnhInscs2TC+8C61ah0dmLDvlkqjP6aBd6HLfHoNJvic8V87XW+f9H//Y48qDVfik0neD+u1BSH1W1XOfEul59VRAf4uyDrY25fx84iAgCaM4AQKiyO4VsKkG7SzVGQLXs47NLt63dLkQav9jcEAmCIaKmGqjGq2BBFrplaINXGDDQHCKR8II/yIw5j0/XCQxjzb6ZssWGy1ggBCMchGwkk0eiyBCyzdKrUY1WDlRHxvj2sPkNIBBE6BL3C0KhBPnx0Gz3LTljDDYcjG+7ufbzzf3PhjdwdhH/OWII8f5yMYjA1wPOKVyd+RVWOGChxuNXW0wYZfVRbngY3V3IPdlc0D4dWDbdwpXGxrLKTEuVWWD7NCbKg4aGCY6GYSy7e97SKTMU3sG6DF0=
    OPENCLAW_GATEWAY_TOKEN: AgBaT0a3XVs7wQFPKGclqxkTRTRyyxRKvYJ8kJHQn1gxkpKIEDBPs9OOmmkbJ3HnidoajzDGAjmCvIfrKCca3ptgzfr5o5NVkNl1/QlBZfd0Rk5csVlU5OpWiCVAXsdd6qP5JNcVgzYlCI/bc05uem+oVqZmR8q/vvOzIv3j/w8v3yN6Ac4XwhRjNY5/rwtLo1eVItcWgoox47eqEesqELuHAsKq6ZH3i3HQiYk8wn/UzYOqZCKoZ0UPzLoMatNopp0fhk2VTaEWnq+cMD52iacANpWY01j32Gcpuwccn9TWJ46NNSjgTRAqjNsihtPjOlTFiEsiG3dZa2vm1fwgZE4nk7y+qU360YLrHcTy8DbsDYa5WA95Sdk98w5Dml5XAw8bLaMnBD4tlgKgSYV+x4Kr6o4SAutB66HU9JGaszaSay1Wr+S+VmU+vkxZnKa95LVo3PFqSWQdXLN6cYVCVItiMLobxUqUqWC8XJznxBr61VrMKdwCNN81WTS1I7MMuaF6u1O/T3kBGH3oTrUuMPz9EGVNwaDzDTeCbLTfiWG8NTwvsMm6yiGOWGUgkvlN8TDrB12p54ekcYnM+0xDvyL3YUZflH7UMNuXq68mdn8ZAySR+4DLk7b+iJ2ZkIAx8ZdWBtk0igYAU6vVySDNVpEP70tX528+eNBefCMUug9l3oH64xinBxrsavMnrXlxeiFl4cQWQHiu0s4cNIAmMo4g8Fa+II9i9qBEoiiXiXOTz8JX3wczWQItg0NK/GrNlJeILCF788hwFVDjxtJAgZSe
  template:
    type: Opaque
    metadata:
      name: openclaw-secrets
      namespace: openclaw
