openclaw:
  serviceAccount:
    create: true
    automount: false

  deployment:
    create: true
    replicaCount: 1
    deployStrategy: Recreate

    image:
      repository: ghcr.io/openclaw/openclaw
      tag: 2026.1.30
      pullPolicy: IfNotPresent

    env:
      HOME: /home/node
      TERM: xterm-256color

    envFrom:
      - secretRef:
          name: openclaw-secrets

    podSecurityContext:
      runAsNonRoot: true
      runAsUser: 1000
      runAsGroup: 1000
      fsGroup: 1000

    securityContext:
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      capabilities:
        drop:
          - ALL

    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 100m
        memory: 128Mi

    args:
      - "node"
      - "dist/index.js"
      - gateway
      - --bind
      - "0.0.0.0"
      - --port
      - "18789"
      - --allow-unconfigured

  service:
    create: true
    type: ClusterIP
    ports:
      - name: gateway
        port: 18789
        targetPort: 18789
        protocol: TCP
      - name: bridge
        port: 18790
        targetPort: 18790
        protocol: TCP

  httproute:
    create: true
    hostnames:
      - openclaw.int.kyledev.co
      - openclaw.ts.kyledev.co
    parentRefs:
      - name: homelab
        namespace: envoy-gateway-system
    rules:
      - backendRefs:
          - name: openclaw
            port: 18789

  pvc:
    create: true
    pvcs:
      - name: openclaw-config-pvc
        size: 5Gi
        accessMode: ReadWriteOnce
        mountPath: /home/node/.openclaw
      - name: openclaw-workspace-pvc
        size: 10Gi
        accessMode: ReadWriteOnce
        mountPath: /home/node/.openclaw/workspace

  sealedsecrets:
    - name: openclaw-secrets
      data:
        ANTHROPIC_API_KEY: AgCsba+3Jm14qfCbCQH5St5pW3wwJXT/QpBcGwkkAsVvqc/JwXUcqGbsZDu4jbfrWn56zkdx5OS3VC8+zSS4rNb7v8U/ftEHTDfGxVi358ZFcDbITVB3LfiZL4W5t9Wib7fsJaeq9KJJk8DIrLKOXK+yOfBwH9npeMFrjLCrgXzJtc+s5zDqFmeEumgoBhirDWmJTSLeVvbSLKUvKnV4N7F/cptpMuwO61pGllz2RCafqa+4DUkPlV/OhaM4M2wNi3tbroTRD2fTcRyfoLrVk7o/byNorreqXoq2KwhRUlV77djCdGS9sEiuXezvMie4rcaHttrO4ZwvgF0Q5NjaWq7sI/auUJxoAHac+Nk6/LqYJLBNyZVxbqMKeuABev3OX+5ripx31Kn2Gyk3jkIQao7T/NijU2SVMmcQmLP/tivoTy0ovFCGj9h/htti8my+3lwQYNBnhInscs2TC+8C61ah0dmLDvlkqjP6aBd6HLfHoNJvic8V87XW+f9H//Y48qDVfik0neD+u1BSH1W1XOfEul59VRAf4uyDrY25fx84iAgCaM4AQKiyO4VsKkG7SzVGQLXs47NLt63dLkQav9jcEAmCIaKmGqjGq2BBFrplaINXGDDQHCKR8II/yIw5j0/XCQxjzb6ZssWGy1ggBCMchGwkk0eiyBCyzdKrUY1WDlRHxvj2sPkNIBBE6BL3C0KhBPnx0Gz3LTljDDYcjG+7ufbzzf3PhjdwdhH/OWII8f5yMYjA1wPOKVyd+RVWOGChxuNXW0wYZfVRbngY3V3IPdlc0D4dWDbdwpXGxrLKTEuVWWD7NCbKg4aGCY6GYSy7e97SKTMU3sG6DF0=
        OPENCLAW_GATEWAY_TOKEN: AgBaT0a3XVs7wQFPKGclqxkTRTRyyxRKvYJ8kJHQn1gxkpKIEDBPs9OOmmkbJ3HnidoajzDGAjmCvIfrKCca3ptgzfr5o5NVkNl1/QlBZfd0Rk5csVlU5OpWiCVAXsdd6qP5JNcVgzYlCI/bc05uem+oVqZmR8q/vvOzIv3j/w8v3yN6Ac4XwhRjNY5/rwtLo1eVItcWgoox47eqEesqELuHAsKq6ZH3i3HQiYk8wn/UzYOqZCKoZ0UPzLoMatNopp0fhk2VTaEWnq+cMD52iacANpWY01j32Gcpuwccn9TWJ46NNSjgTRAqjNsihtPjOlTFiEsiG3dZa2vm1fwgZE4nk7y+qU360YLrHcTy8DbsDYa5WA95Sdk98w5Dml5XAw8bLaMnBD4tlgKgSYV+x4Kr6o4SAutB66HU9JGaszaSay1Wr+S+VmU+vkxZnKa95LVo3PFqSWQdXLN6cYVCVItiMLobxUqUqWC8XJznxBr61VrMKdwCNN81WTS1I7MMuaF6u1O/T3kBGH3oTrUuMPz9EGVNwaDzDTeCbLTfiWG8NTwvsMm6yiGOWGUgkvlN8TDrB12p54ekcYnM+0xDvyL3YUZflH7UMNuXq68mdn8ZAySR+4DLk7b+iJ2ZkIAx8ZdWBtk0igYAU6vVySDNVpEP70tX528+eNBefCMUug9l3oH64xinBxrsavMnrXlxeiFl4cQWQHiu0s4cNIAmMo4g8Fa+II9i9qBEoiiXiXOTz8JX3wczWQItg0NK/GrNlJeILCF788hwFVDjxtJAgZSe
