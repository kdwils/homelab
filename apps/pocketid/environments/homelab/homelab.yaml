pocketid:
  serviceAccount:
    create: true
    automount: false

  deployment:
    create: true
    replicaCount: 1
    deployStrategy: Recreate

    image:
      repository: ghcr.io/pocket-id/pocket-id
      tag: v1.15.0
      pullPolicy: IfNotPresent

    env:
      APP_URL: "https://pocketid.kyledev.co"
      TRUST_PROXY: "true"
      PUID: "1000"
      PGID: "1000"

    envFrom:
      - secretRef:
          name: pocketid

    resources: {}

    readinessProbe:
      httpGet:
        path: /health
        port: 1411

  service:
    create: true
    type: ClusterIP
    port: 1411
    targetPort: 1411
    name: http

  httproute:
    create: true
    hostnames:
      - pocketid.kyledev.co
    parentRefs:
      - name: homelab
        namespace: envoy-gateway-system

  pvc:
    create: true
    pvcs:
      - name: pocketid-data
        size: 5Gi
        storageClassName: ""
        accessMode: ReadWriteOnce
        mountPath: /app/data

  sealedsecrets:
    - name: pocketid
      data:
        SMTP_FROM: AgAKkNWgEhTjtQyg8K/DPSJaAXMOZOzuTTi4bWYwAMom77+6pOanBAD0qXmZcq2GBIqGfufXEcwF/A7tVpo0aIAgOeZ3bXdR3hTxz6rgNFm0Rslzd8o7dh4ONyn9rWTsjXmBtTfSifB+XZL0T120XX7sFrahvVD2v+7CyxSMYoCcPeIGH2sy8UUNVTJnO3+WklqkGCYLE1eTAZdMJAJW1e0t7REIMZiq3VKxOOGPqTS6xodycI/5X0ecFXtKqn1eYNb9K9lzEdafa16JhBmqWNAP0cSF3GPs7DXbgHPbOymW/h1p/018RxxEsfsTts8WNvhfLEukbo61+cjs/QFhq8oo+HLGPr+Pe0LH7DzrAMI/iVmCOi67nnaBfos2maRktod1W1GANG/7lgGyRZcNc2g6GIu1Qm0M6yJMJW4CXwjWvMEMdZpJh0wxwujfqWnCSmYrAs0MshfDRKDTXiABpXXbkkwXyPmDjhWo5tAJ6cC2z+6rokbDeZC9L+FwOVm89VaXuEdFtFLKvDS1r1UO4Wq9u3Gx7LVbiy6Lh/+LOQLTitSn67SYD6iduz6TA+RpjCxrjkpJ4V2sxeWc3ic1gLt5FvdusIPsG7JXJFI2SaiouP9HC2ROLxeAFOzsWjMbkSDRYpwn9j51wb0ve2Y9mr3AFHyGakK7hmdTDj1Ak1abJsVeKfGzaYA+9yLlS12c66RkECNSw4Km5JJ5yo9xwGDO4qQ0qmgH
        SMTP_PASSWORD: AgBIgzUMKIK8lL+7/xOE/zD8rP+SSATYpKEg+uQZh8i/KVNnmikce937hGcWL4gh2oiwJD1p7qAivVtRjOWfWq7+BAz1ATRCYV5fwK20oOBnjc6bM52ZxEXQBSXjJNYfTu+w8vSofxvyzPPvMomCwZ4OffKC6zodPKTJiCw4Y5PdCoIK3ytU/CKdp74QPqJW8uLCFU4ehmaaR9fwqbqT9Ko+oclo+8OolZ9ZeNfQm5DHBdZeBibaylj3sYTk9kDxsT+0NwL9NYboAKbB4A2IBVnr0Ih0TMDTmW8buSJ4mMlZBvqPnVZYdJHmCXNeXw2gSG9y9ZCKSc/SQ+IAM6WIlOmexP4XmFI5UNqjIEfCbPFZ0NwyFUonZ2rAcQssGUf3tC9juwVGyf0jFGg+HhuuWSrxChG7PvNhuR8FGcA49obftRrNnEtBVsXukyFhdxKN5ylFQt6WBCuYyETrOmQysAFFgTV93lqh0hekKOkzCvbXRflGs54VBTGZacnKwinPpE4EwbDF6PC8SSiG09cxEFyoBixmHAvBTV9g2XE+r/1jB/E20icYIFH17MfPbbYpSMdPjXBOYDpbzK6EpeajG6yo6VLhBN4/sXi8f5i+CNAP6I3unMVzYOmbDiY7mBF7pzWnzARyeyMZoztThTp7npIFj2wQuN0rOdYDmIzkiGEZnlHI68jHL4SY5hJr6JosQoRd0+yWpAHJ86+lrie18l8C
        SMTP_PORT: AgClnoubTBcQONAZ+kPb/ahndRHZmQ+tQ+noLd5UTA/Gfe+A7oSfDssENsL+x3yJrzoz33jGM3yKvN92V3yYkRNGb9lM3t/QVY4WjvCxS6wUJYGidEi6epBqqkjT4BiO4KEQXMWzg/+azYmOr48qxnFDv1Oy2fj+vgIylXVHkEpBB3HW3Ec2+NyX8qwZPQCnbRmk8GM+FKSn5uR0vJj51gGZeY0zq7NIIM9emU/OOoYGerh5R02MqnLpIw1MP7jvrl5nVqqB04FD0JxCtpp9T68J6Ko4u/e1M1YVfnySKL9ScJBJppuIx+f6u0zuf8+uQ0rmYlCmu16+i7bc6RDQ+SNLrf0vWpyLy6cmlsQaDtbhJzajKPTl18Ya3xXXIwK91m9JSU6ahQFLIBZh11//O6Q1TnHW7sdoLp1JctQNF6izbLRP0edKXfDQcIbM7Q48BQiUNPqvuiHorbGM6P+2jlQtfmODli7wciZ+jyyyAVAwUgQ1X8GU9blbpKg25tPHjKu+YcLGfECRxIFqABDPIoLXmLV8i67s0kBPRu7jWmbaQovLmCY+Czl3tYGfX1fnCAV5Hq0cc1d6o9yzurkPdTDwYTkK2mumVvLceB/lUWUpdAct2d9GN7PyxpLTVrWGUwxqvaWKSCyDPs0mQbhdf7041LvRNV3iAPOW7tv5cvMm8T+PgZFJf9WwgS8fLi2wEH/tbfM=
        SMTP_HOST: AgC2X1px3JSsJJoWAKcc290lgPmsmVul8RyjemNsIDLo1EC/Wh+dDpjcjcSH8I3BSxY6vFpl546TIUwTD5HOIynN3I2hbOQYEMOponYNLGk3lQEDYfLeFmoTltoyutuz2rj+zSA33+T0YNpG0lV4G2Vfw/bYpJoPkZF+2Z/Sc4p5huK0lzLl0shLyV2OiFgdkS9KArrohUW07eFJdwqJmN0DKdtCF14AQ7KndZbheIMLECQiUnylm2nfOl2YwgJujNgU51hiS8JPxGPh8/AiJsrPCBJqdNysDPVnQSVyQPXdkhBaen37j+LTx7UGc+MBrQD4x2365FqAwCcUWFnSV4aQ2nuvW5/Tg6exWUaRX7unUrk+HikGiSnyntXqHerHGQRdqJaJgJ76adNU+bn0NhmSFLgRVxBpGD18cywdVsCQx6zaCIvPPJsHs1dxdj3vVWcS9C0x+B+Q3tuKfN2Rpf0PiSUpXAQp6O9QhbW7HfSVkRL1k4bZOBs7viUPMePsRzhm20qREuX84hnvX3yvoLcGKUYOvuIQk0a4ed8k/V2AXiEHjTuIkIjqSdJN3q4O+8L7iIKPjSdtiLGOK7BmOzQxdPq58ydtJR7pVGqix9J3pLT05tP9m/rzTb1mGtnkFEXyf6AaKTwiE9iRegcvFEQw0PDMf5LAVxYQSiIxrY46MXh1bwPiEVY71xQ0mjfCPowyMUzzZaENH2fY2tsgPQ==
        SMTP_USER: AgAUAGQeL9WSPFTNYVq3I4dI9/sSASMfm3zZGMiSWpmU/lm2ZZE5KzqL86LszB3AbQyGrXtsVACiAjK2hBMUsS6F+820T0pTrvhmyXnpKM3xGj3kzjK1228qEs51p8o4sf+IrKCT0EqugZGnAe2HGLrJNBnxxlf85LHxPkwq+3MvTeAQ1Hq3Oso/kzF1W2EReJLGcAMgZEsLrCC9uqvIDzb+ROU300g48jsCDAGvlQVzSj1GDMEVcu/sLntclKr/5J1C06puQJ5F25KgXYX0GeFT/KuwdOAOToa5PqpYLzC7FHGhawql0ZbuLv47AHCpiG1r7Kwzn4gCH5HUQ4wJdWNNg6UzfxezTSKkpgS8I1NqQprradkMvSALhtyw/l6SJoXwhyQ8KmQvjZYdJsCG6+cr5bHVOt5LezrwcTJjuUW4XfVr+eO3xEBefJXw47kzbDXh31m6SpzQmayS/6uCPH5/cS3ToWrnVdevMsdLhTQTcgn5mr/7oXcwC2rX2jXMYa6vdpK5U6sk0/oKqVvU6J9GOP+oTm5wkSryeLdmon33d9VdJ4HKSP6f56TRIAmqRkKMXcd6OZo+nUZeMcUsTbIZijBQQQDVRcjpK6kx7uQzcg8ffbVOnGyH2/uoWs/WR7x5onCweXtH0MFqu9+oWQPlcoo9/UCB+/ZymAQnIejOiT55sRDkwTDueXIU0KNUCbC67/soajm/egMA03b1wyWsFMDgttim

  securityPolicy:
    extAuth:
      grpc:
        backendRefs:
          - group: ""
            kind: Service
            name: homelab-envoy-proxy-bouncer
            namespace: envoy-gateway-system
            port: 8080

  # Note: RBAC ClusterRoleBindings and ClusterRoles are managed outside of Helm
  # They are defined in the original rbac.yaml and should remain as standalone resources
