apiVersion: apiserver.config.k8s.io/v1beta1
kind: AuthenticationConfiguration
jwt:
  - issuer:
      url: https://pocketid.kyledev.co
      discoveryURL: https://pocketid.kyledev.co/.well-known/openid-configuration
      audiences:
        - b9b21b18-d0a8-4993-852e-3f96bade279e
      audienceMatchPolicy: MatchAny
    claimMappings:
      username:
        claim: "preferred_username"
        prefix: ""
      groups:
        claim: "groups"
        prefix: ""
        expression: 'claims.roles ? claims.roles.split(",") : []'
      uid:
        claim: "sub"
        expression: "claims.sub"
