transmission:
  serviceAccount:
    create: true
    automount: false

  deployment:
    create: true
    replicaCount: 1
    deployStrategy: Recreate

    image:
      repository: haugene/transmission-openvpn
      tag: 5.3.2
      pullPolicy: IfNotPresent

    env:
      OPENVPN_PROVIDER: NORDVPN
      NORDVPN_PROTOCOL: TCP
      NORDVPN_COUNTRY: US
      NORDVPN_CATEGORY: P2P
      LOCAL_NETWORK: 192.168.0.0/24
      TRANSMISSION_PEER_PORT: "47444"
      TRANSMISSION_DOWNLOAD_DIR: /downloads/transmission
      PUID: "1000"
      PGID: "1000"
      TRANSMISSION_INCOMPLETE_DIR: /downloads/transmission
      TRANSMISSION_HOME: /config/transmission-home

    envFrom:
      - secretRef:
          name: openvpn

    securityContext:
      privileged: true
      capabilities:
        add:
          - NET_ADMIN

    volumes:
      - name: media
        persistentVolumeClaim:
          claimName: media
      - name: transmission
        persistentVolumeClaim:
          claimName: transmission

    volumeMounts:
      - mountPath: /downloads/transmission
        name: media
        subPath: downloads/transmission
      - mountPath: /config/transmission-home
        name: transmission
        subPath: config/transmission-home

  service:
    create: true
    type: ClusterIP
    port: 80
    targetPort: 9091
    name: http

  httproute:
    create: true
    hostnames:
      - transmission.int.kyledev.co
      - transmission.ts.kyledev.co
    parentRefs:
      - name: homelab
        namespace: envoy-gateway-system

  pvc:
    create: true
    pvcs:
      - name: transmission
        size: 8Gi
        accessMode: ReadWriteOnce

  sealedsecrets:
    - name: openvpn
      data:
        OPENVPN_PASSWORD: AgB80hLJJoQv0OELniLsC0HNIoPFK9XDJyAH6nFCADRxmITOEdU7Kn2FvItRtYkW57Lznuh4eaFiUNouMn/ihave89ZrdGSxsSrt+jvgFeOgk71PMj/00/tPfudJc+FVgXGnWKSaf37RXn98hEaa82da1zB4oPhQYRzR0b7D7cHEJOHYGL+IBh+cO05ajWJ0RMvoEl8Ax4s//sNGT0rmQ9LTxemDaGWxxc6sZD2FvAs9s5cwS7gQ16Dz7yJiWs6F3R9B1l0F9gDwJ2g+LU8z2dmBR03uTZTm+zOWkuLwu7Z9dhAYzbIGnZEPOTBIBd2nlWLCVr4YbI9YayMPgIZon74vOPkRBJJU9i9E9gngY953MvoAEnJ9CccMCVbgoEz06oFCcM3ldTm+hNpNfGHz7YqIntTcWvzFHNJ2uzm7QkNK+qIyuZL7h2SOX9o1iQj+fjO8tn7oEc5086ccKpUm2ecXaisxcQ4YBnhcMq0381/0xWwaE9xKqApunLD86cbaCi0P5h4P7Ml/uzAUkJRsGA1J9w6dXni/G55A9PuKG3BIhbmZRn/bnAUFFRUIlD1U9qypWVdmaI75fDBGgPcHThkRxTx1DOOu+gAg956MgEnz/GiH61kLychTEaPeVEVuzvWqO+KrKPO4jUBD0SCTytlYn1dRIEU7XXZqG9FPbihZ+Mu6J/LROImq5xv4TAHLTYVGIS4YoKqzj9Ejpz75klpZW/2dssXGTNs=
        OPENVPN_USERNAME: AgAYGOZK5HVf15Go3YRT6BQ702U1tLfu6YO6AX+Y3F/p2ID24d1EAJ00mH7j9hWG5XjlhiBXmL6b/R39rSwHe4omrNYUGqLSo3I0zUC4UKOTuzZukCaIC5kLFV7yukzf/4tRTPlZc/Jyv+3xrW3ttyZ5J49NaXP9nyRCbN2TpWBgw3IsI4K5WyMsRnRs7e13awmbOeEDwr+RA9LJSMFKD3Xs8K6tZFoxFHV6ZsGX06hlo3ZmxaYDPUUnJ/QYbZlwjCXrgSvoQ4HS/41YcjY7aMXZd0qFKtYAIIwdHQ7NMWiqkGMZM+jJkBObX+tvIZ7B9vbzIRHOeQhe2NwlNCycYJnXEk4LnrmTVB/Op2efwOytMzN/sIIerzMj1Dg+25Lvo00JIZ31e4PngnbxmiWj/M4m+LKil7LpLbS3qyNOgyybd+GAxxnBtaRfF+UiaDSX7n46QVO7+RF1FcxTAaT2PGnd4PccYu7me7LFVF71c6H6dn+A4cdpV6LXUNnDrUYQyDe28/kLz4sTb+9FntpKE9KXDvVPiXwDh5UT/3Is+n/4WjnUfEu+onMQLX6fGGs1x4g0Wprsn1kCdVtMbrZFe2NVGxVTXUWDz0GTkK7Nlnv46rFZ8Nn5vWzMiWsfaOp8n/NUmCDtTtsVwGK/IqG94hyh+6V4NZzS9ebSw3YfIwvNYLbXD1GDm/uyB1ho4QmJVHHMIc6uGSqbAPL4gnEQIZgFO1sz6KKGE64=
