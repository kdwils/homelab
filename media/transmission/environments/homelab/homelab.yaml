transmission:
  serviceAccount:
    create: true
    automount: false

  deployment:
    create: true
    replicaCount: 1
    deployStrategy: Recreate

    image:
      repository: haugene/transmission-openvpn
      tag: 5.3.2
      pullPolicy: IfNotPresent

    env:
      OPENVPN_PROVIDER: NORDVPN
      NORDVPN_PROTOCOL: TCP
      NORDVPN_COUNTRY: US
      NORDVPN_CATEGORY: P2P
      LOCAL_NETWORK: 192.168.0.0/24
      TRANSMISSION_PEER_PORT: "47444"
      TRANSMISSION_DOWNLOAD_DIR: /downloads/transmission
      PUID: "1000"
      PGID: "1000"
      TRANSMISSION_INCOMPLETE_DIR: /downloads/transmission
      TRANSMISSION_HOME: /config/transmission-home

    envFrom:
      - secretRef:
          name: openvpn

    securityContext:
      privileged: true
      capabilities:
        add:
          - NET_ADMIN

    volumes:
      - name: media
        persistentVolumeClaim:
          claimName: media
      - name: transmission
        persistentVolumeClaim:
          claimName: transmission

    volumeMounts:
      - mountPath: /downloads/transmission
        name: media
        subPath: downloads/transmission
      - mountPath: /config/transmission-home
        name: transmission
        subPath: config/transmission-home

  service:
    create: true
    type: ClusterIP
    port: 80
    targetPort: 9091
    name: http

  httproute:
    create: true
    hostnames:
      - transmission.int.kyledev.co
      - transmission.ts.kyledev.co
    parentRefs:
      - name: homelab
        namespace: envoy-gateway-system

  pvc:
    create: true
    pvcs:
      - name: transmission
        size: 8Gi
        accessMode: ReadWriteOnce

  sealedsecrets:
    - name: openvpn
      data:
        username: AQALsK2v00m6/0EWUZ5jkMUysBGzoyTJ7DFr2OGyG7qUMRJhkm/KX+3cfjUp+iQD7uSlDFN7xfA1SE8hbe2wTS2Lls8LpQHDe38Y171jRyJJvtYC1fNYKY91GwxQqFMpUT+i/m2srb9oYrXmlKz0UgjcWszOAqivTQbxzETS9k9C1H0AHiEWhpegm90qcyZVo4rM1v4OMpWLBpBujYmzB3BYJ/EKd42MATaA/buKZhu0MpldXaJPg9mXeTgU10yIrQ2Hy5JJXs+UKHJBNXbj8qQaoE6I5kyOY430eL35nWUBUpMwKCPpY/cWtrQ7J+uxc4iXOfn62xvETJDuzbzNE2XoVnhpk4SbiImUb7mDRqkG32gSCdbWk8P0YjUoct/i8bIfUorjqRgnqw==
        password: AQAJJ1onN10fkWC55/ZbXBI9pmQbRQQhbh8xjJlGJcjklXm3cscjKQnS33hrcO8tq4TYf52L5GcKf1TTaVMNlwRja9dWOLH58J+pRxWk8TIogKx4qUu86VGRSkwHNn5VMxT+GKO1cj3tEFcT2mTk4wmCA6EXfvvNhq90EvRLzMD7ZEZr6wX+n+PaAOIqpLyN70U62o3D52Qz//dm/OlZ0aITOoirPXj0KrYHuy2vBVia9T7vBo8enzVo8rIbK6q/6BUsZKQmVGYDU/ecoRkph8JkPND6VYA2CdLDrCWHJJPHwi5scQT7i/wKXhuHEV3lrCcb8uTMRJhAkYi1K/KQL3tRvW1ngg0qqVIIaku+0ucHG0XfW5bQaEkQqXHkER6JzRlZCrtIESOzNg==
